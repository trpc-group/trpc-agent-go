{
  "evalId": "calc_add",
  "conversation": [
    {
      "invocationId": "calc_add-1",
      "userContent": {
        "parts": [
          {
            "text": "calc add 2 3"
          }
        ],
        "role": "user"
      },
      "finalResponse": {
        "parts": [
          {
            "text": "calc result: 5"
          }
        ],
        "role": "assistant"
      },
      "intermediateData": {
        "toolUses": [
          {
            "id": "tool_use_1",
            "args": {
              "a": 2,
              "b": 3,
              "operation": "add"
            },
            "name": "calculator"
          }
        ],
        "toolResponses": [
          {
            "id": "tool_use_1",
            "name": "calculator",
            "response": {
              "result": 5
            }
          }
        ]
      }
    }
  ],
  "sessionInput": {
    "appName": "math-eval-app",
    "userId": "user"
  }
}
{
  "evalId": "calc_multiply",
  "conversation": [
    {
      "invocationId": "calc_multiply-1",
      "userContent": {
        "parts": [
          {
            "text": "calc multiply 6 7"
          }
        ],
        "role": "user"
      },
      "finalResponse": {
        "parts": [
          {
            "text": "calc result: 42"
          }
        ],
        "role": "assistant"
      },
      "intermediateData": {
        "toolUses": [
          {
            "id": "tool_use_2",
            "args": {
              "a": 6,
              "b": 7,
              "operation": "multiply"
            },
            "name": "calculator"
          }
        ],
        "toolResponses": [
          {
            "id": "tool_use_2",
            "name": "calculator",
            "response": {
              "result": 5
            }
          }
        ]
      }
    }
  ],
  "sessionInput": {
    "appName": "math-eval-app",
    "userId": "user"
  }
}
{
  "metricName": "tool_trajectory_avg_score",
  "threshold": 1,
  "criterion": {
    "toolTrajectory": {
      "defaultStrategy": {
        "name": {
          "matchStrategy": "exact"
        },
        "arguments": {
          "textCriterion": {
            "matchStrategy": "exact"
          }
        },
        "response": {
          "textCriterion": {
            "matchStrategy": "contains"
          }
        }
      }
    }
  }
}
✅ Evaluation completed
App: math-eval-app
Eval Set: math-basic
Overall Status: failed
Runs: 1
Case calc_add -> failed
  Metric tool_trajectory_avg_score: score 0.00 (threshold 1.00) => failed

Case calc_multiply -> failed
  Metric tool_trajectory_avg_score: score 0.00 (threshold 1.00) => failed

✅ Evaluation details:
{
  "evalSetResultId": "math-eval-app_math-basic_eca4b66c-014a-42fc-90ba-b313637dcb9b",
  "evalSetResultName": "math-eval-app_math-basic_eca4b66c-014a-42fc-90ba-b313637dcb9b",
  "evalSetId": "math-basic",
  "evalCaseResults": [
    {
      "evalSetId": "math-basic",
      "evalId": "calc_add",
      "finalEvalStatus": 2,
      "overallEvalMetricResults": [
        {
          "metricName": "tool_trajectory_avg_score",
          "evalStatus": 2,
          "threshold": 1,
          "criterion": {
            "toolTrajectory": {
              "defaultStrategy": {
                "name": {
                  "matchStrategy": "exact"
                },
                "arguments": {
                  "textCriterion": {
                    "matchStrategy": "exact"
                  }
                },
                "response": {
                  "textCriterion": {
                    "matchStrategy": "contains"
                  }
                }
              }
            }
          }
        }
      ],
      "evalMetricResultPerInvocation": [
        {
          "actualInvocation": {
            "invocationId": "73836fae-8d1f-4992-97f6-ff098ddfde88",
            "userContent": {
              "parts": [
                {
                  "text": "calc add 2 3"
                }
              ],
              "role": "user"
            },
            "finalResponse": {
              "parts": [
                {
                  "text": "The result of 2 + 3 is **5**."
                }
              ],
              "role": "assistant"
            },
            "intermediateData": {
              "toolUses": [
                {
                  "id": "call_00_B9PxU7IhUhm9sBJFVYLJRoqq",
                  "args": {
                    "a": 2,
                    "b": 3,
                    "operation": "add"
                  },
                  "name": "calculator"
                }
              ],
              "toolResponses": [
                {
                  "id": "call_00_B9PxU7IhUhm9sBJFVYLJRoqq",
                  "name": "calculator",
                  "response": {
                    "a": 2,
                    "b": 3,
                    "operation": "add",
                    "result": 5
                  }
                }
              ]
            }
          },
          "expectedInvocation": {
            "invocationId": "calc_add-1",
            "userContent": {
              "parts": [
                {
                  "text": "calc add 2 3"
                }
              ],
              "role": "user"
            },
            "finalResponse": {
              "parts": [
                {
                  "text": "calc result: 5"
                }
              ],
              "role": "assistant"
            },
            "intermediateData": {
              "toolUses": [
                {
                  "id": "tool_use_1",
                  "args": {
                    "a": 2,
                    "b": 3,
                    "operation": "add"
                  },
                  "name": "calculator"
                }
              ],
              "toolResponses": [
                {
                  "id": "tool_use_1",
                  "name": "calculator",
                  "response": {
                    "result": 5
                  }
                }
              ]
            },
            "creationTimestamp": 1763994843.1042104
          },
          "evalMetricResults": [
            {
              "metricName": "tool_trajectory_avg_score",
              "evalStatus": 2,
              "threshold": 1,
              "criterion": {
                "toolTrajectory": {
                  "defaultStrategy": {
                    "name": {
                      "matchStrategy": "exact"
                    },
                    "arguments": {
                      "textCriterion": {
                        "matchStrategy": "exact"
                      }
                    },
                    "response": {
                      "textCriterion": {
                        "matchStrategy": "contains"
                      }
                    }
                  }
                }
              }
            }
          ]
        }
      ],
      "sessionId": "4e881454-4927-445d-ae6b-b958f874de97",
      "userId": "user"
    },
    {
      "evalSetId": "math-basic",
      "evalId": "calc_multiply",
      "finalEvalStatus": 2,
      "overallEvalMetricResults": [
        {
          "metricName": "tool_trajectory_avg_score",
          "evalStatus": 2,
          "threshold": 1,
          "criterion": {
            "toolTrajectory": {
              "defaultStrategy": {
                "name": {
                  "matchStrategy": "exact"
                },
                "arguments": {
                  "textCriterion": {
                    "matchStrategy": "exact"
                  }
                },
                "response": {
                  "textCriterion": {
                    "matchStrategy": "contains"
                  }
                }
              }
            }
          }
        }
      ],
      "evalMetricResultPerInvocation": [
        {
          "actualInvocation": {
            "invocationId": "9e5a66aa-96c0-44be-98f3-1eb682777349",
            "userContent": {
              "parts": [
                {
                  "text": "calc multiply 6 7"
                }
              ],
              "role": "user"
            },
            "finalResponse": {
              "parts": [
                {
                  "text": "6 multiplied by 7 equals 42."
                }
              ],
              "role": "assistant"
            },
            "intermediateData": {
              "toolUses": [
                {
                  "id": "call_00_Yve8PrpOJrt7PpXR0LTi3Jbm",
                  "args": {
                    "a": 6,
                    "b": 7,
                    "operation": "multiply"
                  },
                  "name": "calculator"
                }
              ],
              "toolResponses": [
                {
                  "id": "call_00_Yve8PrpOJrt7PpXR0LTi3Jbm",
                  "name": "calculator",
                  "response": {
                    "a": 6,
                    "b": 7,
                    "operation": "multiply",
                    "result": 42
                  }
                }
              ]
            }
          },
          "expectedInvocation": {
            "invocationId": "calc_multiply-1",
            "userContent": {
              "parts": [
                {
                  "text": "calc multiply 6 7"
                }
              ],
              "role": "user"
            },
            "finalResponse": {
              "parts": [
                {
                  "text": "calc result: 42"
                }
              ],
              "role": "assistant"
            },
            "intermediateData": {
              "toolUses": [
                {
                  "id": "tool_use_2",
                  "args": {
                    "a": 6,
                    "b": 7,
                    "operation": "multiply"
                  },
                  "name": "calculator"
                }
              ],
              "toolResponses": [
                {
                  "id": "tool_use_2",
                  "name": "calculator",
                  "response": {
                    "result": 5
                  }
                }
              ]
            },
            "creationTimestamp": 1763994843.1043565
          },
          "evalMetricResults": [
            {
              "metricName": "tool_trajectory_avg_score",
              "evalStatus": 2,
              "threshold": 1,
              "criterion": {
                "toolTrajectory": {
                  "defaultStrategy": {
                    "name": {
                      "matchStrategy": "exact"
                    },
                    "arguments": {
                      "textCriterion": {
                        "matchStrategy": "exact"
                      }
                    },
                    "response": {
                      "textCriterion": {
                        "matchStrategy": "contains"
                      }
                    }
                  }
                }
              }
            }
          ]
        }
      ],
      "sessionId": "da8a7256-2b1a-4cc6-a695-3e949df0664e",
      "userId": "user"
    }
  ],
  "creationTimestamp": 1763994850.5015793
}
